<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-set-cardinality" xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>The Number of Elements in a Finite Set</title>

	<objectives>
		<ul>
			<li>
				<p>
					Use the addition rule to count the number of elements in the union of two sets.
				</p>
			</li>
			<li>
				<p>
					Count the number of elements needed to solve 3-set problems.
				</p>
			</li>
		</ul>
	</objectives>
	<introduction>
		<p>
			Counting is a core idea in mathematics, practiced since the dawn of history. Finite sets, with a specific number of distinct elements, are essential to this process. When dealing with two or three sets, we track elements that occur in multiple sets. Set operations—intersections, unions, and complements—are crucial tools for solving these counting problems.
		</p>
	</introduction>
	<subsection>
		<title>Counting Problems with 2 Sets</title>
		<p>
			The number of elements in a set is called the <term>cardinality</term> of the set. Sometimes we are interested in the cardinality of the union or intersection of sets, but not know the actual elements of each set. The following sections explore these ideas in problems involving two or three sets.
		</p>
		<definition xml:id="def-sets-cardinality">
			<statement>      
				<p>
					The number of elements in a set is called the <term>cardinality</term> of the set. The cardinality of set <m>A</m> is denoted <m>\lvert A \rvert</m> or <m>n(A)</m>.
				</p>
			</statement>
		</definition>
		<example>
			<p>
				A survey asks 200 people <q>What beverage do you drink in the morning</q>, and offers choices:
				<ul>
					<li>
						<p>
							Tea only,
						</p>
					</li>
					<li>
						<p>
							Coffee only,
						</p>
					</li>
					<li>
						<p>
							Both coffee and tea.
						</p>
					</li>
				</ul>
				Suppose 20 report tea only, 80 report coffee only, 40 report both. How many people drink tea in the morning? How many people drink neither tea or coffee?
			</p>
			<sidebyside widths="50% 45%" margins="2.5% 0%" valign="top">
				<p>
					This question can be most easily answered by creating a Venn diagram.  We see that we can find the people who drink tea by adding those who drink only tea to those who drink both: 60 people.
					We can also see that those who drink neither are those not contained in the any of the three other groupings, so we can count those by subtracting from the cardinality of the universal set, 200.  
					<me>
						200 - 20 - 80 - 40 = 60
					</me>
					people who drink neither.
				</p>
				<image xml:id="tigs-2venn-coffee-tea" width="100%">
					<shortdescription>A rectangle is drawn for the universal set U. There are two overlapping circles inside. One is labeled coffee and contains the number 80. The other is labeled tea and contains the number 20. The intersection of the two circles contains the number 40.</shortdescription>
					<latex-image>
						\begin{tikzpicture}[scale=2/7,font=\sffamily]
							\draw[semithick] (0,0) rectangle (21,14);
							% Sets: Path is fill, draw is bddry
							\path[fill=white] (7,7) circle (5);
							\path[fill=yellow!50] (14,7) circle (5);
							\draw[semithick] (7,7) circle (5);
							\draw[semithick] (14,7) circle (5);
							% Set names
							\node at (7,1) {Coffee};
							\node at (14,1) {Tea};
							% Numbers in each region
							\node at (6,7) {80};  % Only in X
							\node at (10.5,7) {40};    % Intersection
							\node at (15,7) {20};   % Only in Y
					\end{tikzpicture}
					</latex-image>
				</image>
			</sidebyside>
		</example>
		<p>
			The next example illustrates again how to deal with overlapping counts and develops an important counting formula.
		</p>
		<example>
			<p>
				Suppose a survey asks participants <q>Which online services have you used in the last month?</q> and offers a choice of
				<ul>
					<li>
						<p>
							Twitter,
						</p>
					</li>
					<li>
						<p>
							Facebook,
						</p>
					</li>
					<li>
						<p>
							Have used both.
						</p>
					</li>
				</ul>
				The results show 40% of those surveyed have used Twitter, 70% have used Facebook, and 20% have used both.  How many people have used either Twitter or Facebook?  How many people have used neither?
			</p>
			<p>
				Let <m>T</m> be the set of all people who have used Twitter, and <m>F</m> be the set of all people who have used Facebook.  Notice that <m>n(F)=0.70</m> and <m>n(T)=0.40</m>. It is tempting to simply add these two numbers together to compute the  size of <m>F \cup T</m>, but this is <em>incorrect</em> because doing so will count those who use both services twice.  
				To correct for this, we can add <m>n(T)</m> to <m>n(F)</m>  and then subtract those in the intersection that have been added twice. That is,
				<md>
					<mrow>n(F\cup T) =\amp n(F) + n(T) - n(F\cap T) </mrow>
					<mrow> =\amp 0.70+0.40-0.20 </mrow>
					<mrow> =\amp 0.90</mrow>
				</md>
				Thus, 90% of the people surveyed have used Facebook or Twitter.
			</p>
			<p>
				To find how many people have <em>not</em> used either service, we want the cardinality of <m>(F \cup T)^C</m>. Since <m>U</m> is 100%, and <m>n(F\cup T) = 0.9</m>, it follows that <m>n((F\cup T)^C) = 1.0 - 0.9 = 0.1</m>, or 10% of those surveyed. These quantities are illustrated in the Venn diagram below.
			</p>
			<image xml:id="tigs-2venn-social-media" width="43%">
				<shortdescription>A rectangle is drawn for the universal set U. There are two overlapping circles inside. One is labeled F and contains the number 50%. The other is labeled T and contains the number 20%. The intersection of the two circles contains the number 20%.</shortdescription>
				<latex-image>
					\begin{tikzpicture}[scale=2/7,font=\sffamily]
						\draw[semithick,fill=white] (0,0) rectangle (21,14);
						% Sets: Path is fill, draw is boundary only
						\path[fill=white] (7,7) circle (5);
						\path[fill=yellow!50] (14,7) circle (5);
						\draw[semithick] (7,7) circle (5);
						\draw[semithick] (14,7) circle (5);
						% Set names
						\node at (7,11) {$F$};
						\node at (14,11) {$T$};
						% Numbers in each region
						\node at (6,7) {0.50};       % Only in F
						\node at (10.5,7) {0.20};    % Intersection
						\node at (15,7) {0.20};      % Only in T
						\node at (19,1.5) {0.10};   % Complement of union
					\end{tikzpicture}
				</latex-image>
			</image>
		</example>
		<fact xml:id="fact-sets-inclusion-exclusion-rule">
			<title>Inclusion-Exclusion Rule</title>
			<statement>
				<p>
					Let <m>A</m> and <m>B</m> be two finite sets. Then
					<me>
						n(A\cup B) = n(A) + n(B) - n(A\cap B).
					</me>
				</p>
			</statement>
		</fact>
		<definition xml:id="def_mutually-exclusive">
	  	<idx>mutually exclusive</idx>
	  	<idx><h>sets</h><h>mutually exclusive</h></idx>
	  	<statement>
	  		<p>
					Two sets, <m>A</m> and <m>B</m>, are <term>mutually exclusive</term> if their intersection is empty.  That is, <m>A\cap B = \emptyset</m>, which means that <m>n(A\cap B) = 0</m>.
				</p>
	  	</statement>
	  </definition>
		<p>
			A 2-set Venn diagram can be solved for any of the four regions found in such a diagram, as illustrated by the next example.
		</p>
		<example>
			<statement>
				<p>
					At a movie theater, 200 people bought popcorn and 150 bought soda. If 90 people bought both popcorn and soda, how many people bought popcorn but no soda?
				</p>
			</statement>
			<solution>
				<p>
					Let <m>P</m> represent the set of people who bought popcorn, and <m>S</m> represent the set of people who bought soda. Then we are told that <m>n(P)=200</m>, <m>n(S)=150</m>, and <m>n(P\cap S) = 90</m>. 
					The number of people who bought popcorn but so soda is the cardinality of <m>P\cap S^C</m>. This is the part of the Venn diagram inside of <m>P</m> but outside of <m>S</m>. Note that
					<me>
						n\left(P\cap S^C\right) = n(P)-n(P\cap S) = 200-90 = 110.
					</me>
					That is, 110 people bought popcorn but not soda.
				</p>
				<image xml:id="tigs-2venn-popcorn" width="45%">
					<shortdescription>A rectangle is drawn for the universal set U. There are two overlapping circles inside. One is labeled P and contains the number 110. The other is labeled S and contains the number 60. The intersection of the two circles contains the number 90.</shortdescription>
					<latex-image>
						\begin{tikzpicture}[scale=2/7,font=\sffamily]
							\draw[semithick,fill=white] (0,0) rectangle (21,14);
							% Sets: Path is fill, draw is boundary only
							\path[fill=white] (7,7) circle (5);
							\path[fill=yellow!50] (14,7) circle (5);
							\draw[semithick] (7,7) circle (5);
							\draw[semithick] (14,7) circle (5);
							% Set names
							\node at (7,11) {$P$};
							\node at (14,11) {$S$};
							% Numbers in each region
							\node at (6,7) {110};      % Only in P
							\node at (10.5,7) {90};   % Intersection
							\node at (15,7) {60};     % Only in S
						\end{tikzpicture}
					</latex-image>
				</image>
			</solution>
		</example>
	</subsection>
	<subsection>
		<title>Counting Problems with 3 Sets</title>
		<p>
			Counting problems involving three sets are solved similarly to those involving two sets. The primary difference is that while two sets divide the universal set into four potential regions, three sets divide the universal set into eight total regions as shown in <xref ref="fig-3-set-venn-diagram"/>. 
			Computing the cardinality of these regions is thus more complex than for two-set problems and, as we shall see in the following examples, it requires care to tease out correct values without double (or triple!) counting elements.
			Note that the <xref text="title" ref="fact-sets-inclusion-exclusion-rule"/> can be updated for three-set problems, but we do not include the formula here.
		</p>
		<p>
			To compute cardinality in 3-set counting problems, begin by finding the central intersection where all three sets overlap, if possible. Then, calculate the pairwise intersections where exactly two sets meet. 
			Using these values, determine how many elements belong uniquely to each individual set. Finally, add all these regions together and verify that they match the given total, or use the total to compute any missing values. The following examples demonstrate this approach.
		</p>
		<example>
			<statement>
				<p>
					Suppose that fifty students are surveyed and asked if they were taking a science (<m>S</m>), humanities (<m>H</m>) or a religion (<m>R</m>) course next quarter. The results are:
					<ul>
						<li>
							<p> 21 were taking a science course,</p>
						</li>
						<li>
							<p> 26 were taking a humanities course,</p>
						</li>
						<li>
							<p> 19 were taking a religion,</p>
						</li>
						<li>
							<p>	9 were taking science and humanities,	</p>
						</li>
						<li>
							<p>	7 were taking science and religion,	</p>
						</li>
						<li>
							<p>	10 were taking humanities and religion,	</p>
						</li>
						<li>
							<p> 3 were taking all three,</p>
						</li>
						<li>
							<p>	7 were taking none of these classes. </p>
						</li>
					</ul>
					How many students are only taking a science course? 
				</p>
			</statement>
			<solution>
				<sidebyside widths="48% 48%" margins="0% 0%" valigns="top top">
					<p>
						To answer this question, it helps to create a Venn diagram that shows all the ways the three sets could overlap. We then work through the given survey results and use them to find the cardinality of each region of the diagram, starting at the center and working outward. When working by hand, we simply fill in the regions with the computed cardinality. However, to help understand the process, in this example we will refer to regions by the letters shown in the provided image. 
					</p>
					<figure xml:id="fig-3-set-venn-diagram">
						<caption>A 3-set Venn diagram divides the plane into 8 distinct regions, here marked with <m>a</m> through <m>h</m>.</caption>
						<image xml:id="tikz-3venn-courses" width="94%">
							<shortdescription>A rectangle is drawn for the universal set U. There are three overlapping circles inside. One is labeled S, one H, and one R. The distinct regions are labeled with lower case letters a through g.</shortdescription>
							<latex-image>
								\begin{venndiagram3sets}[
										labelA={},
										labelB={},
										labelC={},
										labelOnlyA={$a$},
										labelOnlyB={$c$},
										labelOnlyC={$g$},
										labelOnlyAB={$b$},
										labelOnlyAC={$d$},
										labelOnlyBC={$f$},
										labelABC={$e$},
										labelNotABC={$h$},
								]

								% Add shading for subregions
								\setkeys{venn}{shade=yellow!25}
								\fillOnlyA
								\setkeys{venn}{shade=cyan!25}
								\fillOnlyB
								\setkeys{venn}{shade=magenta!25}
								\fillOnlyC
								\setkeys{venn}{shade=green!15}
								\fillACapBNotC
								\setkeys{venn}{shade=orange!15}
								\fillACapCNotB
								\setkeys{venn}{shade=violet!25}
								\fillBCapCNotA
								\setkeys{venn}{shade=white!25}
								\fillACapBCapC
								\setkeys{venn}{shade=white}
								\fillNotABC

								% Add labels outside the circles
								\node at (.5, 4.25) {$S$}; % S above and left of set A
								\node at (4.5, 4.25) {$H$};  % H above and right of set B
								\node at (1.75, 0.33) {$R$}; % R below and left of set C

								\end{venndiagram3sets}
							</latex-image>
						</image>
					</figure>
				</sidebyside>
				<p>
					From the given data, we know that there are 3 students in region <m>e</m> and 7 students in region <m>h</m>. Since 7 students were taking a science and a religion course, we know that <m>n(d) + n(e) = 7</m>.  Since we know there are 3 students in region 3, there must be <m>7 - 3 = 4</m> students in region <m>d</m>. 
				</p>
				<p>
					Similarly, because there are 10 students taking both humanities and religion, which includes regions <m>e</m> and <m>f</m>, there must be <m>10 - 3 = 7</m> students in region <m>f</m>.  With 9 students taking science and humanities courses, there must be <m>9 - 3 = 6</m> students in region <m>b</m>. 
				</p>
				<p>
					Finally, we know that 21 students were taking a science course.  This includes students from regions <m>a,\ b,\ d</m>, and <m>e</m>.  Since we know the number of students in all but region <m>a</m>, we can determine that <m>n(a) = 21 -6 -4 -3 = 8</m>. That is, 8 students are only taking a science course.
				</p>
				<sidebyside widths="48% 48%" margins="0% 0%" valigns="top top">
					<p>
						<alert>Note:</alert> The above work was directed at finding the number of students who were only taking a science class. However, it is a good idea to <q>solve</q> the 3-set diagram completely if possible. 
						Once this is done, any question about cardinality can be solved quickly. In this case, we can find that <m>n(c)=26-6-3-7=10</m>, and <m>n(g)=19-4-6-7=5</m>. The solved diagram is shown here.
					</p>
					<figure xml:id="fig-3-set-venn-diagram-solved">
						<caption>The <q>solved</q> 3-set Venn diagram showing the cardinality of each region.</caption>
						<image xml:id="tikz-3venn-courses-solved" width="100%">
							<shortdescription>A rectangle is drawn for the universal set U. There are three overlapping circles inside. One is labeled S, one H, and one R. The distinct regions are labeled with lower case letters a through g.</shortdescription>
							<latex-image>
								\begin{venndiagram3sets}[
										labelA={},
										labelB={},
										labelC={},
										labelOnlyA={8},
										labelOnlyB={10},
										labelOnlyC={5},
										labelOnlyAB={6},
										labelOnlyAC={4},
										labelOnlyBC={7},
										labelABC={3},
										labelNotABC={7},
								]

								% Add shading for subregions
								\setkeys{venn}{shade=yellow!25}
								\fillOnlyA
								\setkeys{venn}{shade=cyan!25}
								\fillOnlyB
								\setkeys{venn}{shade=magenta!25}
								\fillOnlyC
								\setkeys{venn}{shade=green!15}
								\fillACapBNotC
								\setkeys{venn}{shade=orange!15}
								\fillACapCNotB
								\setkeys{venn}{shade=violet!25}
								\fillBCapCNotA
								\setkeys{venn}{shade=white!25}
								\fillACapBCapC
								\setkeys{venn}{shade=white}
								\fillNotABC

								% Add labels outside the circles
								\node at (.5, 4.25) {$S$}; % S above and left of set A
								\node at (4.5, 4.25) {$H$};  % H above and right of set B
								\node at (1.75, 0.33) {$R$}; % R below and left of set C

								\end{venndiagram3sets}
							</latex-image>
						</image>
					</figure>
				</sidebyside>
			</solution>
		</example>
		<example>
			<statement>
				<p>
					In a survey of 75 consumers, 12 indicated they were going to buy a new couch, 18 said they were going to buy a new rug, and 24 said they were going to buy a new sofa. Of these, 6 were going to buy both a couch and a rug, 4 were going to buy a couch and a sofa, and 10 were going to buy a sofa and a rug. One person indicated he was going to buy all three.
					<ol marker="a)">
						<li>
							<p> How many were going to buy none of these items?</p>
						</li>
						<li>
							<p>	How many were going to buy only a couch? </p>
						</li>
						<li>
							<p>	How many were going to buy only a sofa?	</p>
						</li>
						<li>
							<p>	How many were going to buy only a rug? </p>
						</li>
						<li>
							<p>	How many were going to buy a sofa and a rug but not a couch? </p>
						</li>
					</ol>
				</p>
			</statement>
			<solution>
				<p>
				 Label the sets of people buying couches, fugs, and stoves by <m>C</m>, <m>R</m>, and <m>S</m>. Let <m>U</m> denote the universal set. Then we know from the given problem statement that 
				 <md>
					<mrow> n(C) =\amp 12, </mrow>
					<mrow> n(R) =\amp 18, </mrow>
					<mrow> n(S) =\amp 24, </mrow>
					<mrow> n(C\cap R) =\amp 6, </mrow>
					<mrow> n(C\cap S) =\amp 4, </mrow>
					<mrow> n(S\cap R) =\amp 10, </mrow>
					<mrow> n(C\cap R\cap S) =\amp 1, </mrow>
					<mrow> n(U) =\amp 75. </mrow>
				 </md>
				 Use this information to create a Venn diagram with three interlocking circles labeled <m>C</m>, <m>R</m>, and <m>S</m>. To begin, use the fact that <m>n(C\cap R\cap S) = 1</m> to fill in the center of the diagram.
				</p>
				<p>
					Since <m>n(C\cap R) = 6</m>, <m>n(C\cap S) = 4</m>, and <m>n(S\cap R) = 10</m>, we compute <m>6-1=5</m> and place it in the proper region (giving a total of 6 in the set <m>C\cap R</m>). Similarly, we place 3 and 9 in the proper regions for the sets <m>C\cap S</m> and <m>S\cap R</m>.
				</p>
				<p>
					Next, <m>n(C)=12</m>, and 9 of these 12 are accounted for, so 3 remain. In the same way, <m>n(R)=18</m> with 15 accounted for so 3 remain, and <m>n(S)=24</m> with 13 accounted for and 11 remaining.
				</p>
				<p>
					Finally, the number in <m>(C\cup R\cup S)^C</m> is the total of 75 less those accounted for in <m>C</m>, <m>R</m>, and <m>S</m>. The total That is,
					<md>
						<mrow> n((C\cup R\cup S)^C) =\amp 75-(3+5+1+3+3+9+11) </mrow>
						<mrow> =\amp 75-35 =40. </mrow>
					</md>
					These values are shown in the figure below.
				</p>
				<figure xml:id="fig-3-set-venn-diagram-consumer">
					<caption>The <q>solved</q> 3-set Venn diagram showing the cardinality of each region.</caption>
					<image xml:id="tikz-3venn-consumers-solved" width="45%">
						<shortdescription>A rectangle is drawn for the universal set U. There are three overlapping circles inside. One is labeled C, one R, and one S. The distinct regions are labeled with numbers representing their cardinality.</shortdescription>
						<latex-image>
							\begin{venndiagram3sets}[
							labelA={$C$},
							labelB={$R$},
							labelC={$S$},
							labelOnlyA={3},
							labelOnlyB={3},
							labelOnlyC={11},
							labelOnlyAB={5},
							labelOnlyAC={3},
							labelOnlyBC={9},
							labelABC={1},
							labelNotABC={40},
							]
					
							% Add shading for subregions
							\setkeys{venn}{shade=yellow!25}
							\fillOnlyA
							\setkeys{venn}{shade=cyan!25}
							\fillOnlyB
							\setkeys{venn}{shade=magenta!25}
							\fillOnlyC
							\setkeys{venn}{shade=green!15}
							\fillACapBNotC
							\setkeys{venn}{shade=orange!15}
							\fillACapCNotB
							\setkeys{venn}{shade=violet!25}
							\fillBCapCNotA
							\setkeys{venn}{shade=white!25}
							\fillACapBCapC
							\setkeys{venn}{shade=white}
							\fillNotABC
					
							% Add label for U
							\node at (4.75, 4.75) {$U$};
					
							\end{venndiagram3sets}
						</latex-image>
					</image>
				</figure>
				<p>
					The Venn diagram resulting from these calculations is shown above. From this figure, we can conclude that
					<ol marker="a)">
						<li>
							<p> 40 a were going to buy none of these items. </p>
						</li>
						<li>
							<p>	3 were going to buy only a couch. </p>
						</li>
						<li>
							<p>	11 were going to buy only a sofa.	</p>
						</li>
						<li>
							<p>	3 were going to buy only a rug. </p>
						</li>
						<li>
							<p>	9 were going to buy a sofa and a rug but not a couch. </p>
						</li>
					</ol>
				</p>
			</solution>
		</example>
	</subsection>
</section>