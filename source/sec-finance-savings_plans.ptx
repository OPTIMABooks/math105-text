<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-finance-savings_plans" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Annuities and Sinking Funds</title>

  <!-- This section is a remix of PCC, Sekhom and Bloom material, and my own original writing. -->

  <objectives>
    <ul>
      <li>
        <p>
          Find the future value of an annuity.
        </p>
      </li>
      <li>
        <p>
          Determine the payment needed to create a sinking fund with a specified value.
        </p>
      </li>
    </ul>
  </objectives>

  <introduction>
    <p>
      For most of us it is not practical to deposit a large sum of money in the bank. Instead, we save by depositing smaller amounts of money regularly. We might save in an IRA or 401-K for retirement. We might also save for a down payment on a car or house, or in a college savings plan for our children, or make regular payments into an insurance account.
    </p>
    <p>
      A sequence of equal periodic payments is called an <term>annuity</term>. The payments (or deposits) can be made annually, quarterly, monthly, or at any other fixed interval of time. When the payments are made at the same time the interest is credited to the account the annuity is called an <term>simple</term> annuity. When these payments are at the end of the payment period the annuity is called <term>ordinary</term>.
      There are many types of annuities which we will ignore here. This text will only discuss simple, ordinary annuities with equal sized payments. 
    </p>
    <p>
      <alert>Tip:</alert> If the compounding frequency is not explicitly stated in any problem you encounter in this text, assume there are the same number of compounds in a year as there are deposits.
    </p>
  </introduction>
  <subsection xml:id="subsec-annuities">
    <title>Future Value of an Annuity</title>
    <p>
      The mathematical formula needed to solve problems involving the future value of simple, ordinary annuities is shown below. If you want to know where the formula comes from, it is derived at the end of the chapter.
    </p>
    <assemblage>
      <title>Future Value of an Ordinary Annuity</title>
      <idx>future value of an annuity</idx>
      <idx><h>financial formulas</h><h>future value of an annuity</h></idx>
      <idx><h>annuities</h><h>future value</h></idx>
      <p>
        If a payment of <m>d</m> dollars is made in an account <m>n</m> times a year at annual interest rate  <m>r</m>, then the future value <m>A</m> of the annuity after <m>t</m> years is 
        <me>
          A = d \left[\frac{\left(1+\frac{r}{n}\right)^{nt}-1}{\frac{r}{n}}\right].
        </me>
      </p>
      <p>
        Glossary:
      </p>
      <p>
        <ul>
          <li>
            <p><m>A</m> is the balance or amount in the account after n years (the future value)</p>
          </li>
          <li>
            <p><m>d</m> is the regular deposit (or payment amount each month, quarter, year, etc.)</p>
          </li>
          <li>
            <p><m>r</m> is the annual interest rate in decimal form</p>
          </li>
          <li>
            <p><m>n</m> is the number of compounding periods in one year</p>
          </li>
          <li>
            <p><m>t</m> is the number of years</p>
          </li>
        </ul>
      </p>
    </assemblage>
    <example xml:id="ex_future_value_annuity_1">
      <statement>
      <p>
        A traditional individual retirement account (IRA) is a special type of retirement account in which the money you invest is exempt from income taxes until you withdraw it. If you deposit $100 each month into an IRA earning 6% APR, how much will you have in the account after 20 years? 
      </p>
      </statement>
      <solution>
      
      <p>
        In this example the monthly deposit is <m>d=\$100</m>, and since interest is compounded monthly <m>n = 12</m>. The annual interest rate is <m>r=0.06</m> and since we want the amount after 20 years <m>t=20</m>. The unknown value is <m>A</m>, which is the value we need to compute. Putting these values into the annuity equation we have:
      </p>
      <p>
        <md>
        <mrow> A\amp= 100\left[\frac{\left(1+\frac{0.06}{12}\right)^{12\cdot 20}-1}{\left(\frac{0.06}{12}\right)}\right]</mrow>
        <mrow> \amp= 100\left[\frac{(1.005)^{240}-1}{(0.005)}\right]</mrow>
        <mrow> \amp= 100(462.040895)</mrow>
        <mrow> \amp\approx \$46{,}204.09</mrow>
      </md>
      </p>
      <p>
        With U.S. dollars we round to the nearest cent. The account will grow to $46,204.09 after 20 years.
      </p>
      </solution>
    </example>
    <p>
      Depositing $100 a month for 20 years takes a lot of discipline!  Was it worth it? How much interest did this annuity earn over 20 years?
    </p>
    <p>
      <alert>Key Idea:</alert> Total interest is always the difference between the account balance and the amount deposited (or paid).
    </p>
    <example>
      <statement>
        <p>
          If you deposit $100 each month into an IRA earning 6% APR for 20 years, how much will you have earned in interest? What percentage of the balance is interest? Use the result of <xref ref="ex_future_value_annuity_1"/> to find these values.
        </p>
      </statement>
      <solution>
        <p>
          To find the <alert>amount of interest earned</alert>, calculate the total of all the deposits.
        </p>
        <p>
          <me>\$100(20)(12)=\$24{,}000</me>
        </p>
    
        <p>
          The difference between the total amount and the total of the deposits is the interest earned.
        </p>
        <p>
          <me>\$46{,}204.09-\$24{,}000=\$22{,}204.09</me>
        </p>
        <p>
          The total amount of interest earned was $22,204.09.
        </p>
        <p>
          To find the <alert>percentage of the balance that is interest</alert>, divide the interest by the total balance.
        </p>
        <p>
          <me>\frac{\$22{,}204.09}{\$46{,}204.09}\approx 0.4810</me>
        </p>
        <p>
          or 48.1%. After 20 years 48.1% of the balance is from interest.
        </p>
      </solution>
    </example>
    <assemblage>
      <title>A note on rounding</title>
      <p>
        If you are using the formulas and round during intermediate steps you will probably have some roundoff error. For this reason, enter the whole expression into the calculator. Alternately, enter the parts of the equation separately but use the calculators stored values for subsequent computations. 
        Do not write down rounded intermediate steps and then key them back into the calculator. In the examples in this section we show intermediate value to guide you but use the unrounded value stored in the calculator to find the final answer shown.
      </p>
    </assemblage>
    <p>
      Occasionally the problem is more complicated. For example, consider a scenario where an large, initial deposit is made   with subsequent smaller, monthly deposits.
    </p>
    <example>
      <statement>
      <p>
        You want to jumpstart your saving by depositing $1500 from your tax return and then deposit $150 every month into an account that earns 5.5% APR compounded monthly. How much will you have in the account after 30 years?
      </p>
      </statement>
      <solution>
      <p>
        This problem is solved by applying the compound interest formula to the initial deposit, and the future value of an annuity formula to the sequence of monthly payments and adding the result together.  That is,
        <me>
          \text{Total} = A_1 + A_2,
        </me>
        where <m>A_1</m> is the future value of the lump sum and <m>A_2</m> the future value of the payments. For both computations <m>r = 0.055</m>, <m>n = 12</m>, and <m>t = 30</m>.
      </p>
      <p>
        Computing <m>A_1</m> first using <m>P = \$1500</m>:
        <md>
          <mrow> A_1 =\amp P\left(1+\frac{r}{n}\right)^{nt} </mrow>
          <mrow> =\amp 1500\left(1+\frac{0.055}{12}\right)^{12\cdot 30}</mrow>
          <mrow> =\amp 7{,}781.081752</mrow>
        </md>
      </p>
      <p>
        Next, using <m>d = \$150</m> compute <m>A_2</m>:
        <md>
          <mrow> A_2 =\amp d \left[\frac{\left(1+\frac{r}{n}\right)^{nt}-1}{\frac{r}{n}}\right] </mrow>
          <mrow> =\amp 150 \left[\frac{\left(1+\frac{0.055}{12}\right)^{12\cdot 30}-1}{\frac{.055}{12}}\right]</mrow>
          <mrow> =\amp 150(913.611891)</mrow>
          <mrow> =\amp 137{,}041.783674 </mrow>
        </md>
      </p>
      <p>
        Adding and rounding to the penny, in 30 years our account will contain 
        <me>
          A_1 + A_2 = \$144{,}822.87.
        </me>
      </p>
    </solution>
    </example>
  </subsection>
  <subsection xml:id="subsec-sinking_funds">
    <title>Computing Payments and Sinking Funds</title>
    <p>
      If a specific lump sum is needed in the future, the annuity formula can be used to determine the necessary deposit size to accumulate the required amount. When a business regularly deposits money into an account to save for future equipment purchases, this savings fund is called a <term>sinking fund</term>. To solve these problems, the annuity formula is used to solve for <m>d</m>, the deposit amount.
      <idx>sinking fund</idx>
      <idx><h>annuities</h><h>sinking fund</h></idx>
    </p>
  <example>
    <statement>
      <p>
        Danielle needs $5,000 in three years.  How much should she deposit each month in an account that pays 8% compounded monthly to achieve her goal?
      </p>
    </statement>
    <solution>
      <p>
        In this problem we know all the needed values to use the annuity formula except <m>d</m>: <m>A=\$5{,}000</m>, <m>r=0.08</m>, <m>n = 12</m>, and <m>t = 3</m>.  Thus,
        <md>
          <mrow> 5{,}000 =\amp d \left[\frac{\left(1+\frac{0.08}{12}\right)^{12\cdot 3}-1}{\frac{0.08}{12}}\right] </mrow>
          <mrow> 5{,}000 =\amp d(40.535558) </mrow>
          <mrow> d =\amp\frac{5{,}000}{40.535558} </mrow>
          <mrow>  \approx\amp \$123.35. </mrow>
        </md>
      </p>
      <p>
        Danielle needs to deposit $123.35 at the end of each month for 3 years into an account paying 8% compounded monthly to have $5,000 at the end of the 3 years.
      </p>
    </solution>
  </example>
  <example xml:id="ex_sinking_fund_1">
    <statement>
      <p>
        A business needs $450,000 in five years to upgrade some equipment.  How much should be deposited each quarter in a sinking fund that earns 9% compounded quarterly to have this amount in five years?
      </p>
    </statement>
    <solution>
      <p>
        In this problem, we seek a value <m>d</m> such that
        <me>
          \$450{,}000 = d \left[\frac{\left(1+\frac{0.09}{4}\right)^{4\cdot 5}-1}{\frac{0.09}{4}}\right].
        </me>
      </p>
      <p>
        Solving,
        <md>
          <mrow> 450{,}000 =\amp d \left[\frac{\left(1.0225\right)^{20}-1}{0.0225}\right]</mrow>
          <mrow> 450{,}000 =\amp d(24.911520)</mrow>
          <mrow> d =\amp \frac{450{,}000}{24.911520} </mrow>
          <mrow> \approx\amp \$18{,}063.93.</mrow>
        </md>
      </p>
      <p>
        The business needs to deposit $18,063.93 at the end of each quarter for 5 years into an sinking fund earning interest of 9% compounded quarterly in order to have the $450,000 needed for the equipment upgrade at the end of 5 years.
      </p>
    </solution>
  </example>
  <example>
    <statement>
      <p>
        How much interest did the business in <xref ref="ex_sinking_fund_1"/> earn on their sinking fund? What percentage of the final account balance is interest?
      </p>
    </statement>
    <solution>
      <p>
        To find the amount of interest earned, calculate the total of all your deposits.
      </p>
      <p>
        <me>\$18{,}063.93(4)(5)=\$361{,}278.60</me>
      </p>
  
      <p>
        The difference between the total amount and the deposits is the interest earned.
      </p>
      <p>
        <me>\$450{,}000.00-\$361{,}278.60=\$88{,}721.40.</me>
      </p>
      <p>
        The total amount of interest earned by the sinking fund was $88,721.40.
      </p>
      <p>
        To find the percentage of the balance that is interest, we divide the interest by the total balance.
      </p>
      <p>
        <me>\frac{\$88{,}721.40}{\$450{,}000.00}\approx 0.1972</me>
      </p>
      <p>
        or 19.7%. After 5 years, 19.7% of the balance is from interest.
      </p>
    </solution>
  </example>
  </subsection>
  <subsection xml:id="subsec-derivation-future-value-of-annuity">
    <title>Deriving the Future Value of an Annuity Formula (Optional)</title>
    <p>
      If you are interested in where the future value of an annuity formula came from, we explain it here. A savings plan with regular payments can be described recursively. Recall that basic compound interest follows from the relationship for each compound period.

      <me>A=P\left(1+\frac{r}{n}\right)</me>
    </p>
  
    <p>
      For a savings plan, we need to add a deposit, d, to the account with each compounding period:

      <me>A=P\left(1+\frac{r}{n}\right)+d</me>
    </p>
  
    <p>
      Taking this equation from recursive form to explicit form is a bit trickier than with compound interest. It will be easiest to see by working with an example rather than working in general.
    </p>
    <p>
      Suppose we will deposit $100 each month into an account paying 6% APR. We assume that the account is compounded with the same frequency as we make deposits unless stated otherwise.
    </p>
    <p>
      In this example:
    </p>
    <ul>
      <li>
        <p> <m>r=0.06</m></p>
      </li>
      <li>
        <p> <m>n=12</m></p>
      </li>
      <li>
        <p> <m>d=\$100</m></p>
      </li>
    </ul>
 
    <p>
      Writing out the recursive equation gives where A is exchanged with <m>P_{m}</m>, where <em>m</em> is the number of compounding periods.
      <me>P_{m}=\left(1+\frac{0.06}{12}\right)P_{m-1}+100=(1.005)P_{m-1}+100</me>
    </p>

    <p>
      Assuming we start with an empty account, we can begin using this relationship:

      <md>
        <mrow> P_{0} =\amp 0. </mrow>
        <mrow> \amp </mrow>
        <mrow> P_{1} =\amp (1.005)P_{0}+100</mrow>
        <mrow>       =\amp 100 </mrow>
        <mrow> \amp </mrow>
        <mrow> P_{2} =\amp (1.005)P_{1}+100</mrow>
        <mrow>       =\amp (1.005)(100)+100 </mrow>
        <mrow>       =\amp 100(1.005)+100 </mrow>
        <mrow> \amp </mrow>
        <mrow> P_{3} =\amp (1.005)P_{2}+100 </mrow>
        <mrow>       =\amp (1.005)(100(1.005)+100)+100 </mrow>
        <mrow>       =\amp 100(1.005)^{2}+100(1.005)+100 </mrow>
      </md>
    </p>

    <p>
      Continuing this pattern, after m deposits, we'd have saved:
      <me>P_{m}=100(1.005)^{m-1}+100(1.005)^{m-2}+...+100(1.005)+100</me>
    </p>
  
    <p>
      In other words, after <m>m</m> months, the first deposit will have earned compound interest for <m>m-1</m> months. The second deposit will have earned interest for <m>m-2</m> months. Last month's deposit would have earned only one month worth of interest. The most recent deposit will have earned no interest yet.
    </p>
  
    <p>
      This equation leaves a lot to be desired, though – it doesn't make calculating the ending balance any easier! To simplify things, multiply both sides of the equation by 1.005:

      <me>1.005P_{m}=1.005[100(1.005)^{m-1}+100(1.005)^{m-2}+...+100(1.005)+100]</me>
    </p>
  
    <p>
      Distributing on the right side of the equation gives

      <me>1.005P_{m}=100(1.005)^{m}+100(1.005)^{m-1}+...+100(1.005)^{2}+100(1.005)</me>
    </p>
    <p>
      Now we'll line this up with like terms from our original equation, and subtract each side

      <me>1.005P_{m}=100(1.005)^{m}+100(1.005)^{m-1}+...+ 100(1.005)</me>

    </p>

    <p>
      <me>P_{m} = 100(1.005)^{m-1}+...+ 100(1.005)+100</me>
    </p>
  
    <p>
      Almost all the terms cancel on the right side when we subtract, leaving
      <me>1.005P_{m}-P_{m}=100(1.005)^{m}-100</me>
    </p>
    <p>
      Solving for <m>P_{m}</m>:
      <md>
        <mrow> 0.005P_{m} =\amp 100((1.005)^{m}-1) </mrow>
        <mrow> \amp </mrow>
        <mrow> P_{m} =\amp \frac{100(1.005)^{m}-100}{0.005} </mrow>
      </md>
    </p>
    <p>
      Replacing <m>P_{m}</m> with <m>A</m> (Future Value), <m>m</m> months with <m>12t</m>, where <m>t</m> is measured in years, gives

      <me>A=\frac{100\left((1.005)^{12t}-1\right)}{0.005}</me>
    </p>
  
    <p>
      Recall <m>0.005</m> was <m>r/n</m> and 100 was the deposit <m>d</m>. The value 12 as <m>n</m>, the number of deposits each year. Generalizing this result, we get the savings plan formula solved for <m>A</m>. The second formula uses algebra to rearrange the formula to be solved for <m>d</m>.
    </p>
  </subsection>
</section>